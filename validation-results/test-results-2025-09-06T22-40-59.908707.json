{
  "timestamp": "2025-09-06T22:40:59.908707",
  "test_input": "test-data/test_256x256.yuv",
  "reference_output": "test-data/test_256x256_ref.jxs",
  "rust_output": "test-data/test_256x256_rust.jxs",
  "build": {
    "success": true,
    "stderr": "warning: /Users/keyvan/Work/Projects/sandbox/jpeg-xs/commercial/jpegxs-core-clean/Cargo.toml: only one of `license` or `license-file` is necessary\n`license` should be used if the package license can be expressed with a standard SPDX expression.\n`license-file` should be used if the package uses a non-standard license.\nSee https://doc.rust-lang.org/cargo/reference/manifest.html#the-license-and-license-file-fields for more information.\n   Compiling jpegxs-core-clean v0.1.0 (/Users/keyvan/Work/Projects/sandbox/jpeg-xs/commercial/jpegxs-core-clean)\n   Compiling jpegxs-core v0.1.0 (/Users/keyvan/Work/Projects/sandbox/jpeg-xs/crates/jpegxs-core)\n   Compiling jpegxs-ffi v0.1.0 (/Users/keyvan/Work/Projects/sandbox/jpeg-xs/crates/jpegxs-ffi)\n   Compiling jpegxs-cli v0.1.0 (/Users/keyvan/Work/Projects/sandbox/jpeg-xs/crates/jpegxs-cli)\n    Finished `release` profile [optimized] target(s) in 10.43s\n"
  },
  "rust_encode": {
    "success": true,
    "stdout": "Encoded successfully: 23499 bytes\n",
    "stderr": "warning: /Users/keyvan/Work/Projects/sandbox/jpeg-xs/commercial/jpegxs-core-clean/Cargo.toml: only one of `license` or `license-file` is necessary\n`license` should be used if the package license can be expressed with a standard SPDX expression.\n`license-file` should be used if the package uses a non-standard license.\nSee https://doc.rust-lang.org/cargo/reference/manifest.html#the-license-and-license-file-fields for more information.\n   Compiling jpegxs-core-clean v0.1.0 (/Users/keyvan/Work/Projects/sandbox/jpeg-xs/commercial/jpegxs-core-clean)\n   Compiling jpegxs-core v0.1.0 (/Users/keyvan/Work/Projects/sandbox/jpeg-xs/crates/jpegxs-core)\n   Compiling jpegxs-cli v0.1.0 (/Users/keyvan/Work/Projects/sandbox/jpeg-xs/crates/jpegxs-cli)\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.31s\n     Running `target/debug/jpegxs encode --input test-data/test_256x256.yuv --output test-data/test_256x256_rust.jxs --width 256 --height 256 --format yuv422p`\n",
    "returncode": 0
  },
  "validation": {
    "success": true,
    "output": "============================================================\nJPEG XS OUTPUT VALIDATION REPORT\n============================================================\n\n1. FILE STRUCTURE ANALYSIS\n------------------------------\nReference (C):    24.0 KB\nRust:             22.9 KB\nSize ratio:       1.0x larger\n\nReference starts: ff10ff500002ff12001a000060000000\nRust starts:      ff10ff500004ff120019000000000000\n\nReference JPEG XS compliant: True\nRust JPEG XS compliant:      True\n\n2. JPEG XS MARKER ANALYSIS\n------------------------------\n\nReference markers found: 5\n  0x0: 0xff10 - SOC (Start of Codestream)\n  0x2: 0xff50 - SIZ (Image and tile size)\n  0x6: 0xff12 - PIH (Packet information header)\n  0x22: 0xff13 - PIV (Packet information variable)\n  0x2c: 0xff14 - EPH (End of packet header)\n\nRust markers found: 5\n  0x0: 0xff10 - SOC (Start of Codestream)\n  0x2: 0xff50 - SIZ (Image and tile size)\n  0x6: 0xff12 - PIH (Packet information header)\n  0x21: 0xff13 - PIV (Packet information variable)\n  0x2b: 0xff14 - EPH (End of packet header)\n\n3. IMPLEMENTATION GAPS\n------------------------------\n\nCompression Analysis:\nReference compression: 5.3:1\nRust compression:      1.0:1\nMissing compression:   -1.1 KB\n\n4. PRIORITY FIXES NEEDED\n------------------------------\n1. Implement JPEG XS bitstream format:\n   - SOC marker (FF 10)\n   - SIZ marker (FF 50) with image parameters\n   - COD marker (FF 52) with coding parameters\n2. Add entropy coding:\n   - VLC tables\n   - Significance propagation passes\n3. Proper packet structure\n\n============================================================\n",
    "stderr": ""
  },
  "metrics": {
    "ref_size_bytes": 24576,
    "rust_size_bytes": 23499,
    "size_ratio": 0.9561767578125,
    "compression_gap_kb": -1.0517578125,
    "ref_has_soc_marker": true,
    "rust_has_soc_marker": true,
    "format_compliance": true
  }
}